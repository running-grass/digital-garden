领域驱动设计
---------------------------
+ 战略层面
    * 领域
    * 子领域
    * 通用语言
+ 战术层面
    * 限界上下文
    + 聚合
        + 聚合根
            * 实体
            * 值对象
    * 领域服务
    + 领域对象
        * 失血模型
        * 贫血模型
        * 充血模型
        * 涨血模型


---------------------------
* 所有的问题空间，或者问题域，通常需要细分成多个 子领域


解决方案空间
---------------------------
- 包含一个或多个 限界上下文 ，一个 限界上下文 是一个特定的解决方案，对应于 问题空间 中的一个问题
- 多个 限界上下文之间如果有重叠的概念，需要考虑概念之间的映射和翻译
-


值对象
---------------------------
- 英文名为Value Object，简称VO
- 这里的值对象和函数式编程里面的纯函数的有一丢丢的像，更确切的说应该是值对象中的方法和 纯函数 很像，都是无副作用的，不改变当前数据。不同点是 纯函数 强调的是函数，而值对象强调的是数据对象
- 主要特点
	- 无唯一ID，和实体最大的区别
	- 无状态的，不可变的
	- 两个对象只要值相等即视为统一个对象
	- 无副作用
- 进阶版概念 DomainPrimitive
	- 在值对象的基础上强调该概念业务逻辑的判断以及行为
	- 使用DP的三原则
		- 让隐性的概念显性化
			- 例如表示邮箱的字符串email，因为对其会有一些判断行为和计算属性，所以可以封装成一个Email对象
		- 让隐性的上下文显性化
			- 在支付领域中，当我们谈到金额的时候，实际上表达的是金额数值+币种，只是我们默认币种都是人民币，所以币种这个概念被隐性化了，我们应该封装一个Money对象，包含数值+币种，并有相应的方法
		- 封装多对象的行为
			- 当跨币种转账的时候，会涉及到多个对象和行为，首先通过一个汇率服务获得汇率，然后从原Money中取出数值，乘以汇率，再把数值+新币种封装进新对象。
			- 可以根据汇率的概念封装一个对象，包含汇率比率、原币种、目标币种，同时把转换汇率的方法封装进来，传入一个Money，返回一个新的Money
- 和DTO的区别
	- dto注重数据的存储和传输，而值对象代码业务域中的概念
	- dto不关心自动的关联度，而vo要求属性必须高度关联，与该概念强相关
	- DTOv只有数据，无行为，而值对象包含业务概念的相关行为
- 什么情况下使用值对象
	- 有格式限制的String，例如ip，地址，邮箱等
	- 有限制的Int，例如相似度、成绩分数、文件大小等
	- 可枚举的int，比如Status
	- Double，一般都会有业务含义，例如Money，Amount，他们都有自己的业务行为
	- 复杂的数据结构，例如Map，Set，Tree等，


限界上下文
---------------------------
- 子领域 中的一个显式的边界，用来隔绝名字相同但含义不同的概念，是一个语义上多边界
- 把通用语言表达成软件模型
- 某些项目试图构建一个大而全的模型，全局每个概念只有一种定义，例如登录账户和购买商品的顾客。都使用了 用户 的定义，团队成员是 用户 的时候，每个人的理解是不同的，全员达成一致是很困难的
-


问题空间
---------------------------
* 领域 中包含问题空间和解决方案空间

可以认为是上下两层，上面是问题空间，下面是解决方案空间，通过某种方式进行多对多的映射。由于解决方案是抽象过的，所以总量上下层要少于上层
* 由一个核心子领域和多个支撑子领域及多个通用子领域组成
