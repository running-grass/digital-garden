# 简介
Idris2 中总共有两种解析器

1. `Text.Lexer` 和 `Text.Parser` 这俩组成的组合，较为复杂，先进行词法解析，再进行语法解析
2. `Data.String.Parser` 使用字符串直接解析的

# 词法语法解析
解析分为两步

词法分析和语法解析。

形象的来说
词法分析负责把子组成词
语法解析负责把词连成通顺的句子

## 词法分析
使用 lexer 从源字符串，解析出token串， 而token可能会是操作符，换行符，括号、关键字，数字，字符串等。
首先要分析一个语言的词法元素，例如对于JSON来说，词法元素包括`{ } [ ] " ,`等符号，以及字符串，数字，`true` 和 `false`   `null
在这个阶段不用管括号是否匹配、冒号位置是否正确等。只需要识别出来就可以了

## 消耗的概念
如果想要匹配到的是 html ，而字符串为 php，那么就是一个前两个字符还是被消耗了
## 超前查看 lookahead
当 lookahead 在 <|> 左侧时，如果匹配失败，还会把消耗的字符还回去。

应当减少使用，可以先提取公共子串，剩下的子串仅用一个字符即可失败

## 语法解析
定义一些产生式，先定义一些小的语法规则。  
例如对于json来说， 两个`"`之间有n个字符，就是一个字符串类型的JSON值。    
然后再把字符串的产生式组合， { 字符串规则 : 任意JSON值, .... }  是json对象值的产生式


# 字符串语法解析

具体使用方式可以参考 [Idris2 XML](https://github.com/madman-bob/idris2-xml)


直接从字符串解析为目标类型，不再需要中间的Token中间类型，整体精简不少。对于语法并不复杂的，可以使用。

## 基础使用


## 常用的语组合器
### letter 
解析