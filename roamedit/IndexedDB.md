IndexedDB
---------------------------

IndexedDB
   :PROPERTIES:
   :CUSTOM_ID: indexeddb
   :END:

- 特点

  - 键值对存储
  - 同源策略
  - 异步操作
  - 支持事务
  - 存储空间大
  - 支持二进制

- 基本概念

  - 数据库：IDBDatabase 对象

    - 每个域名（严格的说，是协议 + 域名 + 端口）都可以新建任意多个数据库
    - 版本的概念

      - 同一个时刻，只能有一个版本的数据库存在
      - 如果要修改数据库结构（新增或删除表、索引或者主键），只能通过升级数据库版本完成。

  - 对象仓库：IDBObjectStore 对象

    - 每个数据库可以新建若干的对象仓库
    - 类似于关系数据库中的表的概念

  - 数据记录

    - 对象仓库保存的是数据记录
    - 每条记录类似于关系型数据库的行
    - 只有主键和数据体两部分。

      - 主键可以是数据记录里面的一个属性
      - 也可以指定为一个递增的整数编号

  - 索引： IDBIndex 对象
  - 事务： IDBTransaction 对象

    - 数据记录的读写和删改，都要通过事务完成。

  - 操作请求：IDBRequest 对象
  - 指针： IDBCursor 对象
  - 主键集合：IDBKeyRange 对象
